let mongoose,Severity,log;_efa‍.x([["default",()=>_efa‍.o]]);_efa‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_efa‍.w("../utils/logger",[["Severity",["Severity"],function(v){Severity=v}],["log",["log"],function(v){log=v}]]);


const onError = (error) => {
	log(`Mongo connection error: ${error}`, Severity.Error);
	process.exit(1);
};

const connect = (uri) => {
	mongoose.connection.on('error', onError);
	return mongoose.connect(uri, {useNewUrlParser: true, useCreateIndex: true, useUnifiedTopology: true, useFindAndModify: false})
		.then(() => {
			log('Mongo successfully connected', Severity.Success);
		});
};

_efa‍.d({connect});