let passport,User,config;_a4f‍.x([["default",()=>_a4f‍.o]]);_a4f‍.w("passport",[["default",["passport"],function(v){passport=v}]]);_a4f‍.w("../models/Users/user_Auth",[["default",["User"],function(v){User=v}]]);_a4f‍.w("./config",[["default",["config"],function(v){config=v}]]);



const JwtStrategy = require('passport-jwt').Strategy;
const ExtractJwt = require('passport-jwt').ExtractJwt;

const opts = {};

opts.jwtFromRequest = ExtractJwt.fromAuthHeaderAsBearerToken();
opts.secretOrKey = config.secretOrKey;

passport.use(new JwtStrategy(opts, (jwt_payload, done) => {
	User.findById(jwt_payload.id)
		.then(user => {
			if (user) {
				return done(null, user);
			}
			return done(null, false);
		});
})
);

_a4f‍.d(passport);