let mongoose,Severity,log;_97f‍.x([["default",()=>_97f‍.o]]);_97f‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_97f‍.w("../utils/logger",[["Severity",["Severity"],function(v){Severity=v}],["log",["log"],function(v){log=v}]]);


const onError = (error) => {
	log(`Mongo connection error: ${error}`, Severity.Error);
	process.exit(1);
};

const connect = (uri) => {
	mongoose.connection.on('error', onError);
	return mongoose.connect(uri, {useNewUrlParser: true, useCreateIndex: true, useUnifiedTopology: true, useFindAndModify: false})
		.then(() => {
			log('Mongo successfully connected', Severity.Success);
		});
};

_97f‍.d({connect});