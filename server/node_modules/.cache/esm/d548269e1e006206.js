let passport,User,config;_1e0‍.x([["default",()=>_1e0‍.o]]);_1e0‍.w("passport",[["default",["passport"],function(v){passport=v}]]);_1e0‍.w("../models/user_Auth",[["default",["User"],function(v){User=v}]]);_1e0‍.w("./config",[["default",["config"],function(v){config=v}]]);



const JwtStrategy = require('passport-jwt').Strategy;
const ExtractJwt = require('passport-jwt').ExtractJwt;

const opts = {};

opts.jwtFromRequest = ExtractJwt.fromAuthHeaderAsBearerToken();
opts.secretOrKey = config.secretOrKey;

passport.use(new JwtStrategy(opts, (jwt_payload, done) => {
	User.findById(jwt_payload.id)
		.then(user => {
			if (user) {
				return done(null, user);
			}
			return done(null, false);
		});
})
);

_1e0‍.d(passport);