let mongoose,Severity,log;_2c7‍.x([["default",()=>_2c7‍.o]]);_2c7‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_2c7‍.w("../utils/logger",[["Severity",["Severity"],function(v){Severity=v}],["log",["log"],function(v){log=v}]]);


const onError = (error) => {
	log(`Mongo connection error: ${error}`, Severity.Error);
	process.exit(1);
};

const connect = (uri) => {
	mongoose.connection.on('error', onError);
	return mongoose.connect(uri, {useNewUrlParser: true, useCreateIndex: true, useUnifiedTopology: true})
		.then(() => {
			log('Mongo successfully connected', Severity.Success);
		});
};

_2c7‍.d({connect});