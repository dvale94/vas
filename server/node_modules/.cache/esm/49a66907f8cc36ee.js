let express,Admin;_f8c‍.x([["default",()=>_f8c‍.o]]);_f8c‍.w("express",[["default",["express"],function(v){express=v}]]);_f8c‍.w("../models/Users/admin_User",[["default",["Admin"],function(v){Admin=v}]]);



const router = new express.Router();

router.put('/update/:id', updateAdmin);
router.get('/:id', fetchAdminById);


function updateAdmin(request, response) {
	_f8c‍.g.console.log(request.params);
	_f8c‍.g.console.log(request.body);
	Admin.updateOne({_id: request.params.id}, request.body, (err, result) => {
		if (err) {
			_f8c‍.g.console.log(err);
		  } else {
			if (result.n === 1) {
                //response.json({ message: 'success' });
                //response.json('Changes saved!');
                response.json(request.params)
			}
			else {
				response.json('failed')
			}
          }
 
          
	});
}

function fetchAdminById(request, response) {
	Admin.findById(request.params.id, (err, result) => {
		if (err) {
			_f8c‍.g.console.log(err);
		  } else {
            const payload = {
                role: 'Admin',
                id: result.id,
                firstName: result.firstName,
                lastName: result.lastName,
                email: result.email,
                phoneNumber: result.phoneNumber
            }
              _f8c‍.g.console.log(payload);
            response.json(payload);
		  }
	});
}

_f8c‍.d({router});