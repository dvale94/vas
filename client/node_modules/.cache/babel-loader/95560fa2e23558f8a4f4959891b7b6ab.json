{"ast":null,"code":"import request from 'request';\nimport serverConf from '../../config.js';\n\nclass ApiProvider {\n  constructor() {\n    this._initialize();\n  }\n\n  _initialize() {\n    this._filterGetters = {\n      \"Title\": this._partial(this.getBooks, {\n        fields: [\"title\"]\n      }),\n      \"Genre\": this._partial(this.getGenres, {\n        fields: [\"name\"]\n      }),\n      \"Author\": this._partial(this.getAuthors, {\n        fields: [\"name\"]\n      })\n    };\n  }\n\n  logIn(form, callback, errorCallback) {\n    const endpoint = `${serverConf.uri}${serverConf.endpoints.users.signin}`;\n    request.post(endpoint, {\n      form\n    }, (error, response, body) => {\n      if (error && errorCallback) errorCallback(error);\n      if (callback) callback(body);\n    });\n  }\n\n}\n\nexport const api = new ApiProvider();","map":{"version":3,"sources":["/Users/aurelienmeray/Desktop/OG/vas/client/src/api/ApiProvider.js"],"names":["request","serverConf","ApiProvider","constructor","_initialize","_filterGetters","_partial","getBooks","fields","getGenres","getAuthors","logIn","form","callback","errorCallback","endpoint","uri","endpoints","users","signin","post","error","response","body","api"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,OAAOC,UAAP,MAAuB,iBAAvB;;AAEA,MAAMC,WAAN,CAAkB;AACjBC,EAAAA,WAAW,GAAG;AACb,SAAKC,WAAL;AACA;;AAEDA,EAAAA,WAAW,GAAG;AACb,SAAKC,cAAL,GAAsB;AACrB,eAAS,KAAKC,QAAL,CAAc,KAAKC,QAAnB,EAA6B;AAAEC,QAAAA,MAAM,EAAE,CAAC,OAAD;AAAV,OAA7B,CADY;AAErB,eAAS,KAAKF,QAAL,CAAc,KAAKG,SAAnB,EAA8B;AAAED,QAAAA,MAAM,EAAE,CAAC,MAAD;AAAV,OAA9B,CAFY;AAGrB,gBAAU,KAAKF,QAAL,CAAc,KAAKI,UAAnB,EAA+B;AAAEF,QAAAA,MAAM,EAAE,CAAC,MAAD;AAAV,OAA/B;AAHW,KAAtB;AAKA;;AAIDG,EAAAA,KAAK,CAACC,IAAD,EAAOC,QAAP,EAAiBC,aAAjB,EAAgC;AACpC,UAAMC,QAAQ,GAAI,GAAEd,UAAU,CAACe,GAAI,GAAEf,UAAU,CAACgB,SAAX,CAAqBC,KAArB,CAA2BC,MAAO,EAAvE;AAEAnB,IAAAA,OAAO,CAACoB,IAAR,CAAaL,QAAb,EAAuB;AAAEH,MAAAA;AAAF,KAAvB,EAAiC,CAACS,KAAD,EAAQC,QAAR,EAAkBC,IAAlB,KAA2B;AAC3D,UAAIF,KAAK,IAAIP,aAAb,EAA4BA,aAAa,CAACO,KAAD,CAAb;AAC5B,UAAIR,QAAJ,EAAcA,QAAQ,CAACU,IAAD,CAAR;AACd,KAHD;AAIA;;AAtBgB;;AA4BlB,OAAO,MAAMC,GAAG,GAAG,IAAItB,WAAJ,EAAZ","sourcesContent":["import request from 'request';\nimport serverConf from '../../config.js';\n\nclass ApiProvider {\n\tconstructor() {\n\t\tthis._initialize();\n\t}\n\n\t_initialize() {\n\t\tthis._filterGetters = {\n\t\t\t\"Title\": this._partial(this.getBooks, { fields: [\"title\"] }),\n\t\t\t\"Genre\": this._partial(this.getGenres, { fields: [\"name\"] }),\n\t\t\t\"Author\": this._partial(this.getAuthors, { fields: [\"name\"] })\n\t\t};\n\t}\n\n\t\n\n\tlogIn(form, callback, errorCallback) {\n\t\tconst endpoint = `${serverConf.uri}${serverConf.endpoints.users.signin}`;\n\n\t\trequest.post(endpoint, { form }, (error, response, body) => {\n\t\t\tif (error && errorCallback) errorCallback(error);\n\t\t\tif (callback) callback(body);\n\t\t});\n\t}\n\n\t\n\n}\n\nexport const api = new ApiProvider();\n"]},"metadata":{},"sourceType":"module"}